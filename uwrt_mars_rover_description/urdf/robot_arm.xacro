<?xml version="1.0" ?>
<robot name="uwrt_mars_rover" xmlns:xacro="http://www.ros.org/wiki/xacro">

<xacro:include filename="$(find uwrt_mars_rover_description)/urdf/robot_claw.xacro"/>

<xacro:macro name="arm_to_base" params="base_object">
    <link name="turntable">
        <inertial>
            <origin rpy="0 0 0" xyz="-0.00358 0.03422 0.05666"/>
            <mass value="1.26885"/>
            <inertia ixx="0.00397" ixy="-0.00035" ixz="0.00084" iyy="0.01033" iyz="-0.00008" izz="0.01305"/>
        </inertial>
        <visual>
            <origin rpy="0 0 0" xyz="0 0 0"/>
            <geometry>
                <mesh filename="package://uwrt_mars_rover_description/meshes/turntable.stl" scale="0.0254 0.0254 0.0254"/>
            </geometry>
            <material name="Red">
                <color rgba="1 0 0 1"/>
            </material>
        </visual>
        <collision>
            <origin rpy="0 0 0" xyz="0 0 0"/>
            <geometry>
                <mesh filename="package://uwrt_mars_rover_description/meshes/turntable.stl" scale="0.0254 0.0254 0.0254"/>
            </geometry>
        </collision>
    </link>

    <gazebo reference="turntable">
        <gravity>true</gravity>
        <selfCollide>false</selfCollide>
    </gazebo>

    <joint name="turntable_to_chassis" type="revolute">
        <origin xyz="0.2445 0 -0.0222" rpy="0.0 0.0 0.0"/>
        <parent link="${base_object}"/>
        <child link="turntable"/>
        <axis xyz="0.0 0.0 1.0"/>
        <limit lower="${-pi/4}" upper="${pi/4}" effort="10000" velocity="0.5"/>
    </joint>

    <link name="bicep">
        <inertial>
            <origin rpy="0 0 0" xyz="0.21949 0.01582 0.16754"/>
            <mass value="6.480"/>
            <inertia ixx="0.049355726" ixy="-0.009202176" ixz="-0.033305137" iyy="0.185953394" iyz="-0.000337776" izz="0.156889351"/>
        </inertial>
        <visual>
            <origin rpy="0 0 0" xyz="0 0 -0.0381"/>
            <geometry>
                <mesh filename="package://uwrt_mars_rover_description/meshes/bicep.stl" scale="0.0254 0.0254 0.0254"/>
            </geometry>
            <material name="Red">
                <color rgba="1 0 0 1"/>
            </material>
        </visual>
        <collision>
            <origin rpy="0 0 0" xyz="0 0 -0.0381"/>
            <geometry>
                <mesh filename="package://uwrt_mars_rover_description/meshes/bicep.stl" scale="0.0254 0.0254 0.0254"/>
            </geometry>
        </collision>
    </link>

    <gazebo reference="bicep">
        <gravity>true</gravity>
        <selfCollide>false</selfCollide>
    </gazebo>

    <joint name="shoulder_joint" type="revolute">
        <origin xyz="0.015875 0 0.0544576" rpy="0.0 0.0 0.0"/>
        <parent link="turntable"/>
        <child link="bicep"/>
        <axis xyz="0.0 1.0 0.0"/>
        <limit lower="${-pi/4}" upper="${pi/4}" effort="10000" velocity="0.5"/>
    </joint>

    <link name="forearm">
        <inertial>
            <origin rpy="0 0 0" xyz="-0.045 0.15159 0.05923"/>
            <mass value="1.00758"/>
            <inertia ixx="0.002383071" ixy="0.0000089677" ixz="-0.000286743" iyy="0.010400499" iyz="-0.000000279" izz="0.012282219"/>
        </inertial>
        <visual>
            <origin rpy="0 0 0" xyz="0.318874 -0.151281 -0.062292"/>
            <geometry>
                <mesh filename="package://uwrt_mars_rover_description/meshes/forearm.stl" scale="0.0254 0.0254 0.0254"/>
            </geometry>
            <material name="Red">
                <color rgba="1 0 0 1"/>
            </material>
        </visual>
        <collision>
            <origin rpy="0 0 0" xyz="0.318874 -0.151281 -0.062292"/>
            <geometry>
                <mesh filename="package://uwrt_mars_rover_description/meshes/forearm.stl" scale="0.0254 0.0254 0.0254"/>
            </geometry>
        </collision>
    </link>

    <gazebo reference="forearm">
        <gravity>true</gravity>
        <selfCollide>false</selfCollide>
    </gazebo>

    <joint name="elbow" type="revolute">
        <origin xyz="0.4019042 -0.0011938 0.0596138" rpy="0.0 0.0 0.0"/>
        <parent link="bicep"/>
        <child link="forearm"/>
        <axis xyz="0.0 1.0 0.0"/>
        <limit lower="${-pi/4}" upper="${pi/4}" effort="10000" velocity="0.5"/>
    </joint>

    <xacro:claw_to_arm forearm_link="forearm"/>

</xacro:macro>

</robot>