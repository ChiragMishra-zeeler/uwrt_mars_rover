<?xml version="1.0" ?>
<robot name="uwrt_mars_rover" xmlns:xacro="http://www.ros.org/wiki/xacro">

<xacro:macro name="arm_to_base" params="base_object">
<!-- TODO: Correct the inertia and reference frame for the inertia for each link. -->
    <link name="turntable">
        <inertial>
            <origin rpy="0 0 0" xyz="-0.0007397688458582806 -1.0783832098202512e-05 -0.0000060755009578"/>
            <mass value="373.58767139092913"/>
            <inertia ixx="15.179593" ixy="-0.000146" ixz="-7.2e-05" iyy="9.170619" iyz="0.000335" izz="9.170464"/>
        </inertial>
        <visual>
            <origin rpy="0 0 0" xyz="0 0 0"/>
            <geometry>
                <mesh filename="package://uwrt_mars_rover_description/meshes/turntable.stl" scale="0.0254 0.0254 0.0254"/>
            </geometry>
            <material name="Red">
                <color rgba="1 0 0 1"/>
            </material>
        </visual>
        <collision>
            <origin rpy="0 0 0" xyz="0 0 0"/>
            <geometry>
                <mesh filename="package://uwrt_mars_rover_description/meshes/turntable.stl" scale="0.0254 0.0254 0.0254"/>
            </geometry>
        </collision>
    </link>

    <gazebo reference="turntable">
        <gravity>true</gravity>
        <selfCollide>false</selfCollide>
    </gazebo>

    <joint name="turntable_to_chassis" type="revolute">
        <origin xyz="0.2445 0 -0.0222" rpy="0.0 0.0 0.0"/>
        <parent link="${base_object}"/>
        <child link="turntable"/>
        <axis xyz="0.0 0.0 1.0"/>
        <limit lower="${-pi/4}" upper="${pi/4}" effort="10000" velocity="0.5"/>
    </joint>

    <link name="bicep">
        <inertial>
            <origin rpy="0 0 0" xyz="-0.0007397688458582806 -1.0783832098202512e-05 -0.0000060755009578"/>
            <mass value="373.58767139092913"/>
            <inertia ixx="15.179593" ixy="-0.000146" ixz="-7.2e-05" iyy="9.170619" iyz="0.000335" izz="9.170464"/>
        </inertial>
        <visual>
            <origin rpy="0 0 0" xyz="0 0 -0.0381"/>
            <geometry>
                <mesh filename="package://uwrt_mars_rover_description/meshes/bicep.stl" scale="0.0254 0.0254 0.0254"/>
            </geometry>
            <material name="Red">
                <color rgba="1 0 0 1"/>
            </material>
        </visual>
        <collision>
            <origin rpy="0 0 0" xyz="0 0 -0.0381"/>
            <geometry>
                <mesh filename="package://uwrt_mars_rover_description/meshes/bicep.stl" scale="0.0254 0.0254 0.0254"/>
            </geometry>
        </collision>
    </link>

    <gazebo reference="bicep">
        <gravity>true</gravity>
        <selfCollide>false</selfCollide>
    </gazebo>

    <joint name="shoulder_joint" type="revolute">
        <origin xyz="0.015875 0 0.0544576" rpy="0.0 0.0 0.0"/>
        <parent link="turntable"/>
        <child link="bicep"/>
        <axis xyz="0.0 1.0 0.0"/>
        <limit lower="${-pi/4}" upper="${pi/4}" effort="10000" velocity="0.5"/>
    </joint>

    <link name="forearm">
        <inertial>
            <origin rpy="0 0 0" xyz="-0.0007397688458582806 -1.0783832098202512e-05 -0.0000060755009578"/>
            <mass value="373.58767139092913"/>
            <inertia ixx="15.179593" ixy="-0.000146" ixz="-7.2e-05" iyy="9.170619" iyz="0.000335" izz="9.170464"/>
        </inertial>
        <visual>
            <origin rpy="0 0 0" xyz="0.318874 -0.151281 -0.062292"/>
            <geometry>
                <mesh filename="package://uwrt_mars_rover_description/meshes/forearm.stl" scale="0.0254 0.0254 0.0254"/>
            </geometry>
            <material name="Red">
                <color rgba="1 0 0 1"/>
            </material>
        </visual>
        <collision>
            <origin rpy="0 0 0" xyz="0.318874 -0.151281 -0.062292"/>
            <geometry>
                <mesh filename="package://uwrt_mars_rover_description/meshes/forearm.stl" scale="0.0254 0.0254 0.0254"/>
            </geometry>
        </collision>
    </link>

    <gazebo reference="forearm">
        <gravity>true</gravity>
        <selfCollide>false</selfCollide>
    </gazebo>

    <joint name="elbow" type="revolute">
        <origin xyz="0.4019042 -0.0011938 0.0596138" rpy="0.0 0.0 0.0"/>
        <parent link="bicep"/>
        <child link="forearm"/>
        <axis xyz="0.0 1.0 0.0"/>
        <limit lower="${-pi/4}" upper="${pi/4}" effort="10000" velocity="0.5"/>
    </joint>

    <xacro:macro name="claw_to_arm" params="forearm_link">
        <!---->
    </xacro:macro>
</xacro:macro>

</robot>